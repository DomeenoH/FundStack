# Hexo-Donate - ç°ä»£åŒ–èµåŠ©ç®¡ç†ç³»ç»Ÿ

[English](README.md) | [ç®€ä½“ä¸­æ–‡](README_CN.md)

åŸºäºç°ä»£WebæŠ€æœ¯æ„å»ºçš„å®Œæ•´æ¨¡å—åŒ–èµåŠ©ç®¡ç†ç³»ç»Ÿï¼Œå…·æœ‰å®‰å…¨çš„æ•°æ®å¤„ç†ã€è‡ªåŠ¨é‚®ä»¶é€šçŸ¥å’Œç»¼åˆç®¡ç†åŠŸèƒ½ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- **ç°ä»£èµåŠ©è¡¨å•**ï¼šç®€æ´ã€å“åº”å¼ç•Œé¢ï¼Œå®æ—¶éªŒè¯
- **å®‰å…¨æ•°æ®å¤„ç†**ï¼šè¾“å…¥æ¸…ç†ã€SQLæ³¨å…¥é˜²æŠ¤ã€XSSé˜²æŠ¤
- **å¤šç§æ”¯ä»˜æ–¹å¼**ï¼šæ”¯æŒå¾®ä¿¡æ”¯ä»˜ã€æ”¯ä»˜å®ã€QQæ”¯ä»˜ç­‰
- **é‚®ä»¶é€šçŸ¥**ï¼šä¸ºèµåŠ©è€…å’Œç®¡ç†å‘˜æä¾›è‡ªåŠ¨é€šçŸ¥
- **ç®¡ç†ä»ªè¡¨æ¿**ï¼šå¸¦æœ‰è¿‡æ»¤å’Œæœç´¢çš„ç»¼åˆç®¡ç†é¢æ¿
- **åŠ¨æ€é…ç½®**ï¼šåŸºäºWebçš„ç«™ç‚¹é…ç½®ï¼Œæ— éœ€ä¿®æ”¹ä»£ç 
- **ç§»åŠ¨ç«¯ä¼˜åŒ–**ï¼šå®Œå…¨å“åº”å¼è®¾è®¡ï¼Œè§¦æ‘¸å‹å¥½çš„äº¤äº’

### å®‰å…¨æ€§
- TypeScriptæä¾›ç±»å‹å®‰å…¨å’Œä»£ç è´¨é‡ä¿éšœ
- å…¨é¢çš„è¾“å…¥éªŒè¯å’Œæ¸…ç†
- SQLæ³¨å…¥å’ŒXSSæ”»å‡»é˜²æŠ¤
- CORSå®‰å…¨é…ç½®
- é€Ÿç‡é™åˆ¶é˜²æ­¢æ»¥ç”¨
- å®‰å…¨çš„ç®¡ç†å‘˜è®¤è¯

### ç”¨æˆ·ä½“éªŒ
- ä½¿ç”¨Tailwind CSSå’ŒShadcn UIç»„ä»¶çš„ç°ä»£ç•Œé¢
- å®Œå…¨å“åº”å¼çš„ç§»åŠ¨ç«¯ä¼˜åŒ–å¸ƒå±€
- å®æ—¶è¡¨å•éªŒè¯ï¼Œæä¾›æœ‰ç”¨çš„é”™è¯¯æç¤º
- åŠ è½½çŠ¶æ€å’Œæµç•…è¿‡æ¸¡æ•ˆæœ
- å¯è®¿é—®æ€§è®¾è®¡æ¨¡å¼ï¼ˆç¬¦åˆWCAGæ ‡å‡†ï¼‰
- è§¦æ‘¸å‹å¥½çš„ç§»åŠ¨ç«¯äº¤äº’

### æ•°æ®åˆ†æä¸æŠ¥å‘Š
- å®æ—¶èµåŠ©ç»Ÿè®¡ä»ªè¡¨æ¿
- èµåŠ©è€…æ•°é‡å’Œæ€»é‡‘é¢è·Ÿè¸ª
- æ”¯ä»˜æ–¹å¼åˆ†å¸ƒå›¾è¡¨
- å¯è‡ªå®šä¹‰å‘¨æœŸçš„è¶‹åŠ¿åˆ†æ
- CSVå¯¼å‡ºåŠŸèƒ½ç”¨äºæŠ¥å‘Š
- ä¸ªäººèµåŠ©è€…å†å²è®°å½•è·Ÿè¸ª

## ğŸ”§ æŠ€æœ¯æ ˆ

- **å‰ç«¯**: React 19, TypeScript, Tailwind CSS 4.1, Shadcn UI
- **åç«¯**: Next.js 16 API Routes  
- **æ•°æ®åº“**: PostgreSQL (Neon Serverless)
- **é‚®ä»¶**: Resend / SendGrid APIé›†æˆ
- **å›¾è¡¨**: Rechartsæ•°æ®å¯è§†åŒ–
- **éƒ¨ç½²**: Vercel (æ¨è)

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Node.js 18+ 
- PostgreSQLæ•°æ®åº“æˆ–Neonè´¦æˆ·
- é‚®ä»¶æœåŠ¡APIå¯†é’¥ï¼ˆå¯é€‰ï¼Œç”¨äºé€šçŸ¥ï¼‰

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yourusername/hexo-donate-refactor.git
cd hexo-donate-refactor

# å®‰è£…ä¾èµ–
pnpm install

# è®¾ç½®ç¯å¢ƒå˜é‡
cp .env.example .env.local
# ç¼–è¾‘.env.localå¡«å…¥æ‚¨çš„é…ç½®

# åˆå§‹åŒ–æ•°æ®åº“
# åœ¨PostgreSQLå®ä¾‹ä¸­æ‰§è¡Œscripts/init-database.sql

# è¿è¡Œå¼€å‘æœåŠ¡å™¨
pnpm dev
```

è®¿é—® `http://localhost:3000` æŸ¥çœ‹èµåŠ©é¡µé¢ã€‚

## âš™ï¸ é…ç½®

### ç¯å¢ƒå˜é‡

åˆ›å»º`.env.local`æ–‡ä»¶å¹¶å¡«å…¥ä»¥ä¸‹å˜é‡ï¼š

```env
# æ•°æ®åº“
DATABASE_URL=postgresql://user:password@host/database

# ç®¡ç†å‘˜å‡­æ®
ADMIN_PASSWORD=your_secure_password_here
ADMIN_EMAIL=admin@example.com

# é‚®ä»¶æœåŠ¡ï¼ˆå¯é€‰ï¼‰
EMAIL_PROVIDER=resend  # æˆ– sendgrid
EMAIL_API_KEY=your_api_key_here
EMAIL_FROM=noreply@yourdomain.com

# ç«™ç‚¹URL
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_ADMIN_URL=http://localhost:3000/admin

# å®‰å…¨
RATE_LIMIT_ENABLED=true
```

### é‚®ä»¶æœåŠ¡è®¾ç½®

**æ¨èï¼šResend**
1. åœ¨[resend.com](https://resend.com)æ³¨å†Œ
2. æ·»åŠ å¹¶éªŒè¯æ‚¨çš„åŸŸå
3. ç”ŸæˆAPIå¯†é’¥
4. è®¾ç½®`EMAIL_PROVIDER=resend`å’Œ`EMAIL_API_KEY`

**å¤‡é€‰ï¼šSendGrid**
1. åœ¨[sendgrid.com](https://sendgrid.com)æ³¨å†Œ
2. ç”ŸæˆAPIå¯†é’¥
3. è®¾ç½®`EMAIL_PROVIDER=sendgrid`å’Œ`EMAIL_API_KEY`

## ğŸ“± ç§»åŠ¨ç«¯ä¼˜åŒ–

æœ¬é¡¹ç›®é’ˆå¯¹ç§»åŠ¨è®¾å¤‡è¿›è¡Œäº†å…¨é¢ä¼˜åŒ–ï¼š

- **å“åº”å¼å¸ƒå±€**ï¼šé€‚åº”æ‰€æœ‰å±å¹•å°ºå¯¸
- **è§¦æ‘¸å‹å¥½**ï¼šæŒ‰é’®å’Œè¡¨å•æ§ä»¶ç¬¦åˆ44x44pxæœ€å°æ ‡å‡†
- **ç§»åŠ¨ç«¯ä¼˜åŒ–**ï¼šè™šæ‹Ÿé”®ç›˜ä¼˜åŒ–ï¼ˆ`inputMode`å±æ€§ï¼‰
- **æ¨ªå‘æ»šåŠ¨**ï¼šå¸¦æœ‰è§†è§‰æŒ‡ç¤ºå™¨çš„è¡¨æ ¼
- **è‡ªé€‚åº”ç½‘æ ¼**ï¼šç»Ÿè®¡å’Œæ•°æ®å¡ç‰‡å¸ƒå±€
- **ä¼˜åŒ–çš„å­—ä½“å¤§å°**ï¼šå’Œå°å±å¹•é—´è·

## ğŸ“š æ–‡æ¡£

- **[å®‰è£…æŒ‡å—](SETUP_GUIDE_CN.md)**: ä¸­æ–‡è¯¦ç»†å®‰è£…é…ç½®æŒ‡å—
- **[å®‰è£…æŒ‡å—(è‹±æ–‡)](SETUP_GUIDE.md)**: è‹±æ–‡è¯¦ç»†å®‰è£…å’Œé…ç½®è¯´æ˜
- **[éƒ¨ç½²æŒ‡å—](DEPLOYMENT_GUIDE_CN.md)**: ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²è¯´æ˜
- **[éƒ¨ç½²æŒ‡å—(è‹±æ–‡)](DEPLOYMENT_GUIDE.md)**: Production deployment instructions
- **[APIæ–‡æ¡£](#api-endpoints)**: APIå‚è€ƒè§ä¸‹æ–‡

## ğŸ”— API ç«¯ç‚¹

### å…¬å¼€ç«¯ç‚¹

```
GET  /api/donations        # è·å–èµåŠ©ç»Ÿè®¡
POST /api/donations        # æäº¤æ–°èµåŠ©
GET  /api/donations/list   # è·å–å…¬å¼€èµåŠ©åˆ—è¡¨
GET  /api/donations/[id]   # è·å–èµåŠ©è€…è¯¦æƒ…å’Œå†å²
GET  /api/analytics        # è·å–åˆ†ææ•°æ®
GET  /api/config           # è·å–ç«™ç‚¹é…ç½®
```

### ç®¡ç†ç«¯ç‚¹ï¼ˆéœ€è¦è®¤è¯ï¼‰

```
GET   /api/admin/donations      # åˆ—å‡ºæ‰€æœ‰èµåŠ©
PATCH /api/admin/donations      # æ›´æ–°èµåŠ©çŠ¶æ€
GET   /api/admin/config         # è·å–å½“å‰é…ç½®
PATCH /api/admin/config         # æ›´æ–°ç«™ç‚¹é…ç½®
```

## ğŸ¯ ä¸»è¦æ”¹è¿›

| åŠŸèƒ½ | ä¹‹å‰ | ç°åœ¨ |
|------|------|------|
| æ¡†æ¶ | åŸç”ŸJS | React + TypeScript |
| ç±»å‹å®‰å…¨ | æ—  | å®Œæ•´TypeScript |
| éªŒè¯ | åŸºç¡€ | å…¨é¢ |
| å®‰å…¨æ€§ | åŸºç¡€ | ç”Ÿäº§å°±ç»ª |
| ç®¡ç†é¢æ¿ | æ—  | å®Œæ•´Webç•Œé¢ |
| é…ç½® | ç¡¬ç¼–ç  | åŠ¨æ€Webé…ç½® |
| é‚®ä»¶ | ç®€å• | åŸºäºæ¨¡æ¿ |
| æ•°æ®åˆ†æ | æ—  | å…¨é¢ |
| ç§»åŠ¨ç«¯ | åŸºç¡€ | å®Œå…¨ä¼˜åŒ– |
| ä»£ç è´¨é‡ | æ··æ‚ | æ¨¡å—åŒ–æµ‹è¯• |

## ğŸš€ éƒ¨ç½²

### éƒ¨ç½²åˆ°Vercel

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new)

1. æ¨é€ä»£ç åˆ°GitHub
2. åœ¨Vercelä¸­å¯¼å…¥ä»“åº“
3. é…ç½®ç¯å¢ƒå˜é‡
4. éƒ¨ç½²ï¼

è¯¦ç»†è¯´æ˜è¯·å‚è§ [DEPLOYMENT_GUIDE_CN.md](DEPLOYMENT_GUIDE_CN.md)ã€‚

## ğŸ” å®‰å…¨æœ€ä½³å®è·µ

1. ç”Ÿäº§ç¯å¢ƒå§‹ç»ˆä½¿ç”¨HTTPS
2. è®¾ç½®å¼ºå£®çš„`ADMIN_PASSWORD`ï¼ˆ20+å­—ç¬¦ï¼‰
3. ä¸ºæ‚¨çš„åŸŸåæ­£ç¡®é…ç½®CORS
4. ç”Ÿäº§ç¯å¢ƒå¯ç”¨é€Ÿç‡é™åˆ¶
5. ä¿æŒä¾èµ–æ›´æ–°ï¼š`pnpm audit`
6. å®šæœŸå¤‡ä»½æ•°æ®åº“
7. ä½¿ç”¨ç¯å¢ƒä¸“ç”¨çš„å‡­æ®

## ğŸ“„ è®¸å¯è¯

MIT

## ğŸ™ è‡´è°¢

å— xingjiahui çš„ [Hexo-Donate](https://github.com/xingjiahui/Hexo-Donate) å¯å‘

## ğŸ¤– AI åä½œå¼€å‘

æœ¬é¡¹ç›®é€šè¿‡åˆ›æ–°çš„ AI é©±åŠ¨å·¥ä½œæµåä½œå¼€å‘å®Œæˆ:

- **[v0.dev](https://v0.dev)** - åˆå§‹ UI åŸå‹è®¾è®¡å’Œç»„ä»¶ç”Ÿæˆ
- **[Google Gemini 3 Pro](https://deepmind.google/technologies/gemini/)** - æ¶æ„è®¾è®¡å’Œä»£ç å®ç°
- **[Claude Sonnet 4.5](https://www.anthropic.com/claude)** - ä»£ç ä¼˜åŒ–å’Œç²¾ç‚¼

> è¿™æ˜¯äººæœºåä½œåœ¨ç°ä»£è½¯ä»¶å¼€å‘ä¸­çš„åŠ›é‡è§è¯ã€‚æ•´ä¸ªä»£ç åº“é€šè¿‡ä¸ AI åŠ©æ‰‹çš„è¿­ä»£å¯¹è¯åˆ›å»º,å±•ç¤ºäº† AI å¦‚ä½•åœ¨ä¿æŒä»£ç è´¨é‡å’Œæœ€ä½³å®è·µçš„åŒæ—¶åŠ é€Ÿå¼€å‘è¿‡ç¨‹ã€‚

## ğŸ’¬ æ”¯æŒ

- **é—®é¢˜**: [GitHub Issues](https://github.com/yourusername/hexo-donate-refactor/issues)
- **è®¨è®º**: [GitHub Discussions](https://github.com/yourusername/hexo-donate-refactor/discussions)
- **é‚®ä»¶**: domino@dominoh.com

---

ä½¿ç”¨ Next.jsã€TypeScript å’Œ AI ç”¨ â¤ï¸ åˆ¶ä½œ

